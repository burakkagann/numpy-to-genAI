
<!DOCTYPE html>


<html lang="en" data-content_root="../../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>2.2.4 - Distance Fields &#8212; Pixels to GenAI</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/github-icon.css?v=0979adda" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/footer.css?v=22df2544" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/content.css?v=ad41e33b" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/scroll-progress.css?v=46bcc4b9" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../../../_static/documentation_options.js?v=60dbed4a"></script>
    <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../../_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/Module_02_geometry_mathematics/2.2_coordinate_systems_fields/2.2.4_distance_fields/README';</script>
    <script src="../../../../_static/github-icon.js?v=54752c43"></script>
    <script src="../../../../_static/scroll-progress.js?v=9aba87dc"></script>
    <link rel="icon" href="../../../../_static/favicon-64x64.png"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="2.3.2 - Rose Curves" href="../../2.3_mathematical_art/2.3.2_rose_curves/README.html" />
    <link rel="prev" title="2.2.3 - Vector Fields" href="../2.2.3_vector_fields/vector_fields/README.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../../_static/favicon-192x192.png" class="logo__image only-light" alt=""/>
    <img src="../../../../_static/favicon-192x192.png" class="logo__image only-dark pst-js-only" alt=""/>
  
  
    <p class="title logo__title">Pixels to GenAI</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/burakkagann/numpy-to-genAI" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/burakkagann/numpy-to-genAI" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"></div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">2.2.4 - Distance Fields</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="distance-fields">
<span id="module-2-2-4-distance-fields"></span><h1>2.2.4 - Distance Fields<a class="headerlink" href="#distance-fields" title="Link to this heading">#</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Duration<span class="colon">:</span></dt>
<dd class="field-odd"><p>20 minutes</p>
</dd>
<dt class="field-even">Level<span class="colon">:</span></dt>
<dd class="field-even"><p>Beginner-Intermediate</p>
</dd>
<dt class="field-odd">Prerequisites<span class="colon">:</span></dt>
<dd class="field-odd"><p>Module 2.1.3 (Circles), Module 2.2.1 (Gradient)</p>
</dd>
</dl>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<p>In Module 2.1.3, you learned to draw circles by checking whether each pixel’s distance from the center is less than the radius. That approach gives a binary answer: inside or outside. But what if we kept the actual distance values instead of discarding them?</p>
<p>A <strong>distance field</strong> stores the distance from every pixel to the nearest point on a shape. This seemingly simple idea unlocks powerful techniques used throughout modern computer graphics, from smooth shape rendering to collision detection in video games.</p>
<p><strong>Learning Objectives</strong></p>
<p>By the end of this exercise, you will be able to:</p>
<ul class="simple">
<li><p>Understand what a distance field represents and why it is useful</p></li>
<li><p>Calculate and visualize distance values for every pixel in an image</p></li>
<li><p>Distinguish between signed and unsigned distance functions</p></li>
<li><p>Combine multiple shapes using SDF boolean operations (union, intersection, subtraction)</p></li>
</ul>
</section>
<section id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="Link to this heading">#</a></h2>
<p>Let us create a simple distance field that shows the distance from every pixel to a center point. Run this code to see the result:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">PIL</span><span class="w"> </span><span class="kn">import</span> <span class="n">Image</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c1"># Configuration</span>
<span class="linenos"> 5</span><span class="n">SIZE</span> <span class="o">=</span> <span class="mi">512</span>
<span class="linenos"> 6</span><span class="n">CENTER_X</span><span class="p">,</span> <span class="n">CENTER_Y</span> <span class="o">=</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">256</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="c1"># Create coordinate grids</span>
<span class="linenos"> 9</span><span class="n">Y</span><span class="p">,</span> <span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ogrid</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">SIZE</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="n">SIZE</span><span class="p">]</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="c1"># Calculate distance from each pixel to center</span>
<span class="linenos">12</span><span class="n">distance_field</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">X</span> <span class="o">-</span> <span class="n">CENTER_X</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">Y</span> <span class="o">-</span> <span class="n">CENTER_Y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="c1"># Normalize to 0-255 for visualization</span>
<span class="linenos">15</span><span class="n">normalized</span> <span class="o">=</span> <span class="p">(</span><span class="n">distance_field</span> <span class="o">/</span> <span class="n">distance_field</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">*</span> <span class="mi">255</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="c1"># Save result</span>
<span class="linenos">18</span><span class="n">Image</span><span class="o">.</span><span class="n">fromarray</span><span class="p">(</span><span class="n">normalized</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;simple_distance_field.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id3">
<a class="reference internal image-reference" href="../../../../_images/simple_distance_field.png"><img alt="Radial gradient showing distance from center point" src="../../../../_images/simple_distance_field.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-text">A distance field visualized as a grayscale image. Dark pixels are close to the center (distance = 0), while bright pixels are far away (maximum distance at corners).</span><a class="headerlink" href="#id3" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Notice how the gradient appears circular even though the image is square. This is because we are measuring Euclidean distance, and all points equidistant from the center form a circle.</p>
</div>
</section>
<section id="core-concepts">
<h2>Core Concepts<a class="headerlink" href="#core-concepts" title="Link to this heading">#</a></h2>
<section id="concept-1-what-is-a-distance-field">
<h3>Concept 1: What is a Distance Field?<a class="headerlink" href="#concept-1-what-is-a-distance-field" title="Link to this heading">#</a></h3>
<p>A distance field is a 2D array where each element stores the distance from that position to the nearest point on a reference shape (or point). Unlike the circle-drawing code from Module 2.1.3, which produces a binary mask (inside/outside), a distance field preserves continuous distance information.</p>
<p><strong>From Binary Mask to Distance Field</strong></p>
<p>Recall the circle code from Module 2.1.3:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Binary mask approach (Module 2.1.3)</span>
<span class="n">inside_circle</span> <span class="o">=</span> <span class="n">square_distance</span> <span class="o">&lt;</span> <span class="n">RADIUS</span> <span class="o">**</span> <span class="mi">2</span>  <span class="c1"># True/False only</span>

<span class="c1"># Distance field approach (this module)</span>
<span class="n">distance_field</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">square_distance</span><span class="p">)</span>      <span class="c1"># Actual distance values</span>
</pre></div>
</div>
<p>The key difference is that distance fields give us a smooth gradient of values rather than a hard boundary. This enables:</p>
<ul class="simple">
<li><p><strong>Soft edges</strong>: Create anti-aliased shapes by smoothly transitioning at boundaries</p></li>
<li><p><strong>Collision detection</strong>: Know not just if objects overlap, but how far apart they are</p></li>
<li><p><strong>Procedural effects</strong>: Use distance values to drive colors, textures, or animations</p></li>
</ul>
<div class="admonition-did-you-know admonition">
<p class="admonition-title">Did You Know?</p>
<p>Distance fields are the foundation of modern font rendering in games and applications. The technique, popularized by Valve in 2007 <a class="reference internal" href="#green2007" id="id1"><span>[Green2007]</span></a>, allows text to be scaled to any size while remaining crisp and smooth, using a single small texture.</p>
</div>
</section>
<section id="concept-2-signed-distance-functions-sdfs">
<h3>Concept 2: Signed Distance Functions (SDFs)<a class="headerlink" href="#concept-2-signed-distance-functions-sdfs" title="Link to this heading">#</a></h3>
<p>A <strong>Signed Distance Function</strong> (SDF) extends the distance field concept by adding a sign to indicate whether a point is inside or outside a shape:</p>
<ul class="simple">
<li><p><strong>Negative values</strong>: Inside the shape</p></li>
<li><p><strong>Zero</strong>: On the shape boundary</p></li>
<li><p><strong>Positive values</strong>: Outside the shape</p></li>
</ul>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="../../../../_images/sdf_concept_diagram.png"><img alt="Diagram showing signed distance values for points around a circle" src="../../../../_images/sdf_concept_diagram.png" style="width: 700px;" />
</a>
<figcaption>
<p><span class="caption-text">The sign convention for SDFs. Points inside the shape have negative distance, points on the boundary have zero distance, and points outside have positive distance. Diagram generated with Claude Code.</span><a class="headerlink" href="#id4" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p><strong>SDF Formula for a Circle</strong></p>
<p>For a circle with center (cx, cy) and radius r:</p>
<div class="math notranslate nohighlight">
\[SDF(x, y) = \sqrt{(x - cx)^2 + (y - cy)^2} - r\]</div>
<p>The subtraction of the radius is what creates the sign:</p>
<ul class="simple">
<li><p>When distance &lt; radius: result is negative (inside)</p></li>
<li><p>When distance = radius: result is zero (on boundary)</p></li>
<li><p>When distance &gt; radius: result is positive (outside)</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Unsigned distance (always positive)</span>
<span class="n">distance</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">X</span> <span class="o">-</span> <span class="n">CENTER</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">Y</span> <span class="o">-</span> <span class="n">CENTER</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Signed distance (negative inside, positive outside)</span>
<span class="n">circle_sdf</span> <span class="o">=</span> <span class="n">distance</span> <span class="o">-</span> <span class="n">RADIUS</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The sign convention (negative inside, positive outside) is standard in computer graphics. Some domains use the opposite convention, so always check the documentation when using SDF libraries.</p>
</div>
</section>
<section id="concept-3-combining-shapes-with-boolean-operations">
<h3>Concept 3: Combining Shapes with Boolean Operations<a class="headerlink" href="#concept-3-combining-shapes-with-boolean-operations" title="Link to this heading">#</a></h3>
<p>One of the most powerful features of SDFs is that shapes can be combined using simple mathematical operations <a class="reference internal" href="#quilez2008" id="id2"><span>[Quilez2008]</span></a>:</p>
<p><strong>Union (OR)</strong>: Combine two shapes into one</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">union_sdf</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">minimum</span><span class="p">(</span><span class="n">sdf1</span><span class="p">,</span> <span class="n">sdf2</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Intersection (AND)</strong>: Keep only where shapes overlap</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">intersection_sdf</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span><span class="n">sdf1</span><span class="p">,</span> <span class="n">sdf2</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Subtraction</strong>: Cut one shape from another</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">subtraction_sdf</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span><span class="n">sdf1</span><span class="p">,</span> <span class="o">-</span><span class="n">sdf2</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="../../../../_images/sdf_shapes.png"><img alt="2x2 grid showing circle SDF, rectangle SDF, union, and intersection" src="../../../../_images/sdf_shapes.png" style="width: 600px;" />
</a>
<figcaption>
<p><span class="caption-text">SDFs for basic shapes and their combinations. The black contour line shows where SDF = 0 (the shape boundary). Blue regions have negative distance (inside), red regions have positive distance (outside).</span><a class="headerlink" href="#id5" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>These operations work because:</p>
<ul class="simple">
<li><p><strong>Minimum</strong> selects whichever SDF is more negative, keeping points that are inside <em>either</em> shape</p></li>
<li><p><strong>Maximum</strong> selects whichever SDF is less negative, keeping only points inside <em>both</em> shapes</p></li>
<li><p><strong>Negating</strong> an SDF swaps inside and outside, enabling subtraction</p></li>
</ul>
</section>
</section>
<section id="hands-on-exercises">
<h2>Hands-On Exercises<a class="headerlink" href="#hands-on-exercises" title="Link to this heading">#</a></h2>
<section id="exercise-1-execute-and-explore">
<h3>Exercise 1: Execute and Explore<a class="headerlink" href="#exercise-1-execute-and-explore" title="Link to this heading">#</a></h3>
<p><a class="reference download internal" download="" href="../../../../_downloads/65b48eef724b8506dd113cb00d9289f5/simple_distance_field.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">simple_distance_field.py</span></code></a></p>
<p>Run the script and observe the output.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>simple_distance_field.py
</pre></div>
</div>
<p><strong>Reflection Questions</strong></p>
<ol class="arabic simple">
<li><p>What happens to pixel values as you move away from the center?</p></li>
<li><p>Why does the gradient appear circular when the canvas is square?</p></li>
<li><p>What is the maximum distance value, and where does it occur?</p></li>
</ol>
</section>
<section id="exercise-2-modify-parameters">
<h3>Exercise 2: Modify Parameters<a class="headerlink" href="#exercise-2-modify-parameters" title="Link to this heading">#</a></h3>
<p><a class="reference download internal" download="" href="../../../../_downloads/65b48eef724b8506dd113cb00d9289f5/simple_distance_field.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">simple_distance_field.py</span></code></a></p>
<p>Using this script as a starting point, achieve these goals:</p>
<p><strong>Goal 1</strong>: Move the center to the top-left corner (position 50, 50)</p>
<p><strong>Goal 2</strong>: Create an elliptical distance field by scaling X and Y differently</p>
<p><strong>Goal 3</strong>: Invert the gradient so the center is bright and edges are dark</p>
</section>
<section id="exercise-3-create-from-scratch">
<h3>Exercise 3: Create from Scratch<a class="headerlink" href="#exercise-3-create-from-scratch" title="Link to this heading">#</a></h3>
<p><a class="reference download internal" download="" href="../../../../_downloads/57e0e273631351656c607a2be27ef3f9/sdf_combination_starter.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">sdf_combination_starter.py</span></code></a></p>
<p>Create an SDF composition that combines multiple shapes. Your composition should:</p>
<ol class="arabic simple">
<li><p>Include at least two shapes (circles and/or rectangles)</p></li>
<li><p>Use at least one boolean operation (union, intersection, or subtraction)</p></li>
<li><p>Produce a visually interesting result</p></li>
</ol>
<p>Use the starter code in <code class="docutils literal notranslate"><span class="pre">sdf_combination_starter.py</span></code> to begin.</p>
</section>
<section id="challenge-extension">
<h3>Challenge Extension<a class="headerlink" href="#challenge-extension" title="Link to this heading">#</a></h3>
<p>Try these advanced variations to deepen your understanding:</p>
<p><strong>Challenge A: Color Mapping</strong></p>
<p>Apply a colormap to your SDF visualization using matplotlib:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imsave</span><span class="p">(</span><span class="s1">&#39;colored_sdf.png&#39;</span><span class="p">,</span> <span class="n">combined_sdf</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id6">
<a class="reference internal image-reference" href="../../../../_images/challenge_colormap.png"><img alt="SDF visualization with coolwarm colormap showing blue for negative (inside) and red for positive (outside) values" src="../../../../_images/challenge_colormap.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-text">The coolwarm colormap creates a heat-map effect where blue indicates inside regions and red indicates outside regions.</span><a class="headerlink" href="#id6" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p><strong>Challenge B: Concentric Rings</strong></p>
<p>Create a pattern of concentric rings using the modulo operator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rings</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">distance_field</span> <span class="o">/</span> <span class="mi">20</span><span class="p">)</span> <span class="o">*</span> <span class="mi">127</span> <span class="o">+</span> <span class="mi">128</span>
</pre></div>
</div>
<figure class="align-center" id="id7">
<a class="reference internal image-reference" href="../../../../_images/challenge_rings.png"><img alt="Concentric rings pattern created by applying sine function to distance field" src="../../../../_images/challenge_rings.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-text">Using sine with distance creates hypnotic concentric rings. The divisor (20) controls ring spacing.</span><a class="headerlink" href="#id7" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p><strong>Challenge C: Multiple Sources</strong></p>
<p>Create a distance field with multiple reference points and visualize the Voronoi-like regions where each point is nearest.</p>
</section>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading">#</a></h2>
<p><strong>Key Takeaways</strong></p>
<ul class="simple">
<li><p>A <strong>distance field</strong> stores the distance from every pixel to the nearest point on a shape</p></li>
<li><p><strong>Signed Distance Functions (SDFs)</strong> use negative values for inside, positive for outside, and zero on the boundary</p></li>
<li><p>The circle SDF formula is: <code class="docutils literal notranslate"><span class="pre">sqrt((x-cx)^2</span> <span class="pre">+</span> <span class="pre">(y-cy)^2)</span> <span class="pre">-</span> <span class="pre">radius</span></code></p></li>
<li><p>Shapes can be combined using: <strong>union</strong> (min), <strong>intersection</strong> (max), and <strong>subtraction</strong> (max with negation)</p></li>
</ul>
<p><strong>Common Pitfalls</strong></p>
<ul class="simple">
<li><p>Forgetting to subtract the radius when converting distance to SDF (results in unsigned distance)</p></li>
<li><p>Using the wrong boolean operation (min vs max) when combining shapes</p></li>
<li><p>Not normalizing values properly for visualization (values may exceed 0-255 range)</p></li>
</ul>
<p>SDFs are a fundamental technique in computer graphics with applications in rendering, collision detection, and procedural generation. The concepts you learned here form the foundation for more advanced topics like ray marching and shader programming.</p>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading">#</a></h2>
<div role="list" class="citation-list">
<div class="citation" id="hart1996" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Hart1996<span class="fn-bracket">]</span></span>
<p>Hart, J. C. (1996). Sphere tracing: A geometric method for the antialiased ray tracing of implicit surfaces. <em>The Visual Computer</em>, 12(10), 527-545. <a class="reference external" href="https://doi.org/10.1007/s003710050084">https://doi.org/10.1007/s003710050084</a> [Foundational paper on SDF rendering techniques]</p>
</div>
<div class="citation" id="quilez2008" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">Quilez2008</a><span class="fn-bracket">]</span></span>
<p>Quilez, I. (2008). Distance functions. <em>Inigo Quilez Articles</em>. <a class="reference external" href="https://iquilezles.org/articles/distfunctions/">https://iquilezles.org/articles/distfunctions/</a> [Comprehensive reference for SDF formulas for various shapes]</p>
</div>
<div class="citation" id="green2007" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">Green2007</a><span class="fn-bracket">]</span></span>
<p>Green, C. (2007). Improved alpha-tested magnification for vector textures and special effects. <em>ACM SIGGRAPH 2007 Courses</em>, Article 9. <a class="reference external" href="https://doi.org/10.1145/1281500.1281665">https://doi.org/10.1145/1281500.1281665</a> [SDF technique for scalable text rendering]</p>
</div>
<div class="citation" id="harris2020" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Harris2020<span class="fn-bracket">]</span></span>
<p>Harris, C. R., Millman, K. J., van der Walt, S. J., et al. (2020). Array programming with NumPy. <em>Nature</em>, 585(7825), 357-362. <a class="reference external" href="https://doi.org/10.1038/s41586-020-2649-2">https://doi.org/10.1038/s41586-020-2649-2</a> [NumPy vectorized operations foundation]</p>
</div>
<div class="citation" id="gonzalez2018" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Gonzalez2018<span class="fn-bracket">]</span></span>
<p>Gonzalez, R. C., &amp; Woods, R. E. (2018). <em>Digital Image Processing</em> (4th ed.). Pearson. ISBN: 978-0133356724 [Distance transforms in image processing]</p>
</div>
<div class="citation" id="pearson2011" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Pearson2011<span class="fn-bracket">]</span></span>
<p>Pearson, M. (2011). <em>Generative Art: A Practical Guide Using Processing</em>. Manning Publications. ISBN: 978-1935182627 [Creative coding applications of mathematical fields]</p>
</div>
<div class="citation" id="numpydocs" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>NumPyDocs<span class="fn-bracket">]</span></span>
<p>NumPy Developers. (2024). NumPy documentation: ogrid and coordinate arrays. <em>NumPy Documentation</em>. <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ogrid.html">https://numpy.org/doc/stable/reference/generated/numpy.ogrid.html</a> [Reference for np.ogrid coordinate generation]</p>
</div>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../2.2.3_vector_fields/vector_fields/README.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">2.2.3 - Vector Fields</p>
      </div>
    </a>
    <a class="right-next"
       href="../../2.3_mathematical_art/2.3.2_rose_curves/README.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">2.3.2 - Rose Curves</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quick-start">Quick Start</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#core-concepts">Core Concepts</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#concept-1-what-is-a-distance-field">Concept 1: What is a Distance Field?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#concept-2-signed-distance-functions-sdfs">Concept 2: Signed Distance Functions (SDFs)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#concept-3-combining-shapes-with-boolean-operations">Concept 3: Combining Shapes with Boolean Operations</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hands-on-exercises">Hands-On Exercises</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-1-execute-and-explore">Exercise 1: Execute and Explore</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-2-modify-parameters">Exercise 2: Modify Parameters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-3-create-from-scratch">Exercise 3: Create from Scratch</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#challenge-extension">Challenge Extension</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../../_sources/content/Module_02_geometry_mathematics/2.2_coordinate_systems_fields/2.2.4_distance_fields/README.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025, Kristian Rother &amp; Burak Kagan Yilmazer.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>